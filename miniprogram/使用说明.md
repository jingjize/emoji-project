# 微信小程序使用说明

## 快速开始

### 1. 配置 AppID

编辑 `project.config.json`：
```json
{
  "appid": "你的小程序 AppID"
}
```

如果没有 AppID，可以使用测试号。

### 2. 配置后端地址

编辑 `app.js`，修改 API 地址：

```javascript
globalData: {
  // 本地开发（需要关闭域名校验）
  apiBaseUrl: 'http://localhost:8080/api/meme'
  
  // 或者使用服务器地址
  // apiBaseUrl: 'https://your-domain.com/api/meme',
}
```

### 3. 导入项目

1. 打开微信开发者工具
2. 选择「导入项目」
3. 选择 `miniprogram` 目录
4. 输入 AppID

### 4. 本地开发设置

在微信开发者工具中：
- 设置 → 项目设置 → 本地设置
- ✅ 勾选「不校验合法域名、web-view、TLS 版本以及 HTTPS 证书」

### 5. 启动后端服务

```bash
cd ..  # 回到项目根目录
mvn spring-boot:run
```

### 6. 运行小程序

在微信开发者工具中点击「编译」即可运行。

## 功能使用

1. **选择图片**：点击上传区域，选择相册或拍照
2. **选择情绪**：点击情绪按钮选择（默认：高兴）
3. **生成表情**：点击「生成情绪表情」按钮
4. **查看结果**：生成完成后显示图片
5. **保存图片**：点击「保存到相册」
6. **重新生成**：点击「重新生成」重置

## 注意事项

- 小程序要求 HTTPS（生产环境）
- 需要在微信公众平台配置服务器域名
- 本地开发可以关闭域名校验
- 保存图片需要用户授权

docker构建
docker-compose -f docker-compose.simple.yml up -d --build